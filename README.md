TODO: I'll clean up the code later, I promise.
